<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Tools &mdash; SAXS 0.3.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="SAXS 0.3.0 documentation" href="index.html" />
    <link rel="next" title="The Calibration File" href="SAXSSchemaDoc.html" />
    <link rel="prev" title="Install" href="install.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="SAXSSchemaDoc.html" title="The Calibration File"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Install"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">SAXS 0.3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-tools">
<h1>The Tools<a class="headerlink" href="#the-tools" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-saxsdog">
<span id="saxsdog"></span><h2>The Saxsdog<a class="headerlink" href="#the-saxsdog" title="Permalink to this headline">¶</a></h2>
<p>The saxsdog is a script that converts directories with images to curves.
It can use multiple threads and watch the file system for changes.</p>
<p>For Help on the usage type:</p>
<div class="highlight-text"><div class="highlight"><pre>$ saxsdog --help
Usage: saxsdog [options] directory/to/watch

Options:
  -h, --help            Show this help message and exit.
  -c FILE, --calibration=FILE
                        Path to calibration file (JSON).
  -t THREADS, --threads=THREADS
                        Number of concurrent threads.
  -m, --plotmonitor     Show a live updating plot window.
  -w, --watch           Watch directory for changes, using file system events
                        recursively for all sub directories.
  -r, --resume          Skip files that are already converted.
  -o OUTDIR, --out=OUTDIR
                        Specify output directory. Default is &#39;./out&#39;.
  -i, --inplace         Files are written, in place, in the directory of the
                        image.
  -s, --svg             Write plot to svg file.
  -p, --png             Write png of original.
  -P, --profile         Make a time Profile and print it.
  -S, --silent          Less output.
  -n, --nowalk          Don&#39;t scan for files already there, only watch file
                        system if -w flag is given.
  -D, --walkdirinthreads
                        Search all directories in parallel process.
</pre></div>
</div>
<p>The calibration file must be a valid <em class="xref std std-ref">root</em></p>
</div>
<div class="section" id="the-converter">
<span id="converter"></span><h2>The Converter<a class="headerlink" href="#the-converter" title="Permalink to this headline">¶</a></h2>
<p>The converter extracts information from the calibration.txt generated by fit2d
and adds them to a SAXS.calibration configuration file. (<em class="xref std std-ref">root</em>)</p>
<div class="highlight-text"><div class="highlight"><pre>$ saxsconverter  --help
Usage: saxsconverter [options] calibration.txt ouput.json

Options:
  -h, --help            show this help message and exit
  -t FILE, --template=FILE
                        Path to calibration file which serves as template.
</pre></div>
</div>
<p>If there is a  target file   and it is a valid <em class="xref std std-ref">root</em>, the parsed values are added or updated in place.</p>
</div>
<div class="section" id="plotchi">
<span id="id1"></span><h2>Plotchi<a class="headerlink" href="#plotchi" title="Permalink to this headline">¶</a></h2>
<p>The tool &#8220;plotchi&#8221;  plots a list of &#8221;.chi&#8221;-files:</p>
<div class="highlight-text"><div class="highlight"><pre>$ plotchi  --help
Usage: plotchi [options] CHIFILE [List of more &quot;.chi&quot; files]

Options:
  -h, --help            show this help message and exit
  -o FILE, --out=FILE   Write the plot to FILE. The format is derived from the
                        suffix, e.g. &#39;.svg&#39;,&#39;.pdf&#39;.
  -c, --compare         Compare datasets to first one.
  -l, --log             Use log scale.
  -n, --no-legend       Hide legend.
  -t TITLE, --title=TITLE
                        Give plot title.
  -s N, --skip=N        Skip first N points.
  -k N, --clip=N        Clip last N points.
  -x TYPE, --xaxsistype=TYPE
                        Select type of X axis scale, might be
                        [linear|log|symlog]
  -y TYPE, --yaxsistype=TYPE
                        Select type of Y axis scale, might be
                        [linear|log|symlog]
</pre></div>
</div>
</div>
<div class="section" id="saxsdmerge">
<h2>Saxsdmerge<a class="headerlink" href="#saxsdmerge" title="Permalink to this headline">¶</a></h2>
<p>This tool adresses a very specific problem only aplicable under our groups needs.</p>
<div class="highlight-text"><div class="highlight"><pre>$ saxsdmerge --help
/usr/local/lib/python2.7/dist-packages/pandas/io/excel.py:626: UserWarning: Installed openpyxl is not supported at this time. Use &gt;=1.6.1 and &lt;2.0.0.
  .format(openpyxl_compat.start_ver, openpyxl_compat.stop_ver))
Usage: saxsdmerge [options] iMPicture/dir peakinteg.log datalogger.log

Options:
  -h, --help            show this help message and exit
  -t SEC, --timeoffset=SEC
                        Time offset between logging time and time in
                        imagedata.
  -1, --syncfirst       Sync time by taking the time difference between first
                        shutter action and first image.
  -o FILE, --outfile=FILE
                        Write merged dataset to this file. Format is derived
                        from the extesion.(.csv|.json|.hdf)
  -i FILE, --imagedata=FILE
                         Load image data from previously stored file
                        (imgdata.pkl).
  -b, --batch           Batch mode (no plot).
</pre></div>
</div>
<p>What it does is the following: It merges the two logfiles
by interpolating the 1 sec interval dataloger at the shutter event times.
The interpolation method takes the closest previous entry. The two logfiles are presumed
to have the same clock. This data is then merged with the data
extracted from the image headers and written to a ouput file as a Table.
As the image timestaps are from a different clock which might have a significant
offset, the <tt class="docutils literal"><span class="pre">-1</span></tt> and <tt class="docutils literal"><span class="pre">-t</span></tt> options allow for dealing with that.
In order to check if the time syncronisation is reasonable, the tool displays a
graph with the shutter times and the exposure times from the images.</p>
<p>At the moment it works only with Pilatus 1M image data.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The Tools</a><ul>
<li><a class="reference internal" href="#the-saxsdog">The Saxsdog</a></li>
<li><a class="reference internal" href="#the-converter">The Converter</a></li>
<li><a class="reference internal" href="#plotchi">Plotchi</a></li>
<li><a class="reference internal" href="#saxsdmerge">Saxsdmerge</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Install</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="SAXSSchemaDoc.html"
                        title="next chapter">The Calibration File</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/TheTools.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="SAXSSchemaDoc.html" title="The Calibration File"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Install"
             >previous</a> |</li>
        <li><a href="index.html">SAXS 0.3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Christian Meisenbichler.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>